{
  "eth-if": {
    "ip": {
      "interface": "${interface}",
      "if-address": "169.254.1.11",
      "if-net-bits-count": 24,
      "if-broadcast-address": "169.254.1.255",
      "if-mac-address": "aa:00:aa:00:aa:00",
      "vlan-id": 3,
      "vlan-address": "169.254.11.11",
      "vlan-net-bits-count": 24,
      "vlan-broadcast-address": "169.254.11.255"
    },
    "ethtool": {
      "interface": "${interface}",
      "tso": "off",
      "rx": 8,
      "tx": 8
    },
    "irq-affinity": {
      "interface": "${interface}",
      "file": "${config_path}/common/irq_affinity_4c_8tx_8rx.map"
    }
  },
  "tsn-disc": {
    "interface": "${interface}",
    "taprio": {
      "handle": 100,
      "num_tc": 7,
      "queues": "1@0 1@1 1@2 1@3 1@4 1@5 1@6",
      "time_elapsed": 3,
      "mapping": {
        "default": 0,
        "p1": 1,
        "p2": 2,
        "p3": 3,
        "p4": 4,
        "p5": 5,
        "p6": 6
      },
      "schedule": [
        {
          "gate_mask": "42",
          "duration": 125000
        },
        {
          "gate_mask": "7f",
          "duration": 125000
        },
        {
          "gate_mask": "7f",
          "duration": 125000
        },
        {
          "gate_mask": "7f",
          "duration": 125000
        }
      ],
      "offload": false
    },
    "etf": [
      {
        "delta": 15000,
        "queue": 6,
        "offload": true
      }
    ],
    "vlanrx": [
      {
        "vlan_priority": 1,
        "rx_hw_q": 1
      },
      {
        "vlan_priority": 2,
        "rx_hw_q": 2
      },
      {
        "vlan_priority": 6,
        "rx_hw_q": 2
      }
    ]
  },
  "sync-clocks": {
    "ptp4l": {
      "interface": "${interface}.vlan",
      "ignore_existing": false,
      "gPTP_file": "${config_path}/ptp/gPTP.cfg",
      "socket_prio": 1
    },
    "phc2sys": {
      "interface": "${interface}.vlan",
      "clock": "CLOCK_REALTIME",
      "ignore_existing": false
    }
  },
  "stress-apps": {
    "best-effort": {
      "role": "client",
      "ip": "169.254.11.22",
      "bandwidth": "150M",
      "packet-length": 1448,
      "duration": 30
    }
  },
  "run-apps": {
    "opcua_server": {
      "publisher_interface": "${interface}",
      "subscriber_interface": "${interface}",
      "use_xdp": false,
      "packet_count": 2000,
      "cycle_time_ns": 500000,
      "polling_duration_ns": 0,
      "publishers": {
        "pub1": {
          "url": "opc.eth://22-bb-22-bb-22-bb:3.6",
          "pub_id": 2234,
          "dataset_writer_id": 62541,
          "writer_group_id": 101,
          "early_offset_ns": 75000,
          "publish_offset_ns": 100000,
          "socket_prio": 6,
          "two_way_data": false,
          "cpu_affinity": 2,
          "xdp_queue": -1
        }
      },
      "subscribers": {
        "sub1": {
          "url": "opc.eth://22-bb-22-bb-22-bb",
          "sub_id": 10,
          "subscribed_pub_id": 2234,
          "subscribed_dataset_writer_id": 62541,
          "subscribed_writer_group_id": 101,
          "two_way_data": false,
          "cpu_affinity": 3,
          "xdp_queue": -1,
          "offset_ns": 400000
        }
      },
      "tcc_settings": {
        "latency": 250,
        "affinity": 2
      },
      "talker": {
        "affinity": 2,
        "start-offset": 0,
        "period": 500000,
        "iterations": 2000
      },
      "listener": {
        "affinity": 3,
        "iterations": 2000,
        "output-file": "${output_file}",
        "start-offset": 450000,
        "flavor": "compute",
        "period": 500000
      }
    },
    "carrier": "opcua_server",
    "carrier-args": "--config-file=${output_path}/monitor-noopt.json --base-time ${base_time}",
    "tcpdump": "${interface}"
  },
  "finish-apps": {
  },
  "run-remote-apps": {
    "path": "${remote_working_directory}",
    "app": "tcc_rt_communication_demo",
    "app-args": "--base-time ${base_time}",
    "output_path": "${remote_output_path}",
    "log-file": "${output_path}/remote-log-${mode}.txt"
  },
  "finish-remote-apps": {
    "copy-results": [
      {"from": "${remote_output_path}/tcc_rt_communication_demo_incoming.pcap", "to": "${output_path}/remote_tcc_rt_communication_demo_incoming.pcap"}
    ]
  }
}
