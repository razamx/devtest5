{
  "eth-if": {
    "ip": {
      "interface": "${interface}",
      "if-address": "169.254.1.22",
      "if-net-bits-count": 24,
      "if-broadcast-address": "169.254.1.255",
      "if-mac-address": "22:bb:22:bb:22:bb",
      "vlan-id": 3,
      "vlan-address": "169.254.11.22",
      "vlan-net-bits-count": 24,
      "vlan-broadcast-address": "169.254.11.255"
    },
    "ethtool": {
      "interface": "${interface}",
      "rxvlan": "off",
      "rx": 8,
      "tx": 8
    },
    "irq-affinity": {
      "interface": "${interface}",
      "file": "${config_path}/common/irq_affinity_4c_8tx_8rx.map"
    }
  },
  "tsn-disc": {
    "interface": "${interface}",
    "taprio": {
      "handle": 100,
      "num_tc": 8,
      "queues": "1@0 1@1 1@2 1@3 1@4 1@5 1@6 1@7",
      "time_elapsed": 0,
      "mapping": {
        "default": 0,
        "p1": 1,
        "p2": 2,
        "p3": 3,
        "p4": 4,
        "p5": 5,
        "p6": 6,
        "p7": 7
      },
      "schedule": [
        {
          "gate_mask": "ff",
          "duration": 125000
        },
        {
          "gate_mask": "ff",
          "duration": 125000
        },
        {
          "gate_mask": "82",
          "duration": 125000
        },
        {
          "gate_mask": "ff",
          "duration": 125000
        }
      ],
      "offload": false
    },
    "etf": [
      {
        "delta": 15000,
        "queue": 7,
        "offload": true
      }
    ],
    "vlanrx": [
      {
        "vlan_priority": 1,
        "rx_hw_q": 1
      },
      {
        "vlan_priority": 2,
        "rx_hw_q": 2
      },
      {
        "vlan_priority": 6,
        "rx_hw_q": 2
      },
      {
        "vlan_priority": 7,
        "rx_hw_q": 2
      }
    ]
  },
  "sync-clocks": {
    "ptp4l": {
      "interface": "${interface}.vlan",
      "ignore_existing": false,
      "gPTP_file": "${config_path}/ptp/gPTP.cfg",
      "socket_prio": 1
    },
    "phc2sys": {
      "interface": "${interface}.vlan",
      "clock": "CLOCK_REALTIME",
      "ignore_existing": false
    }
  },
  "stress-apps": {
    "best-effort": {
      "role": "server"
    }
  },
  "run-apps": {
    "opcua_server": {
      "publisher_interface": "${interface}",
      "subscriber_interface": "${interface}",
      "use_xdp": true,
      "packet_count": 2000,
      "cycle_time_ns": 500000,
      "polling_duration_ns": 0,
      "subscribers": {
        "sub1": {
          "url": "opc.eth://22-bb-22-bb-22-bb:3.2",
          "sub_id": 0,
          "subscribed_pub_id": 2234,
          "subscribed_dataset_writer_id": 62541,
          "subscribed_writer_group_id": 101,
          "two_way_data": false,
          "cpu_affinity": 3,
          "xdp_queue": 2,
          "offset_ns": 175000
        }
      },
      "publishers": {
        "pub1": {
          "url": "opc.eth://aa-00-aa-00-aa-00:3.7",
          "pub_id": 2234,
          "dataset_writer_id": 62541,
          "writer_group_id": 101,
          "early_offset_ns": 75000,
          "publish_offset_ns": 275000,
          "socket_prio": 7,
          "two_way_data": false,
          "cpu_affinity": 2,
          "xdp_queue": 3
        }
      },
      "tcc_settings": {
        "latency": 25,
        "affinity": 2
      },
      "compute": {
        "output-file": "${output_file}",
        "iterations": 2000,
        "start-offset": 200000,
        "period": 500000,
        "affinity": 2
      }
    },
    "carrier": "opcua_server",
    "carrier-args": "--config-file=${output_path}/compute-opt.json --base-time ${base_time}",
    "tcpdump": "${interface}"
  },
  "finish-apps": {
  }
}
